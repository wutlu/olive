/*
 * (c) https://github.com/daleharvey/pacman
 */
var NONE=4,UP=3,LEFT=2,DOWN=1,RIGHT=11,WAITING=5,PAUSE=6,PLAYING=7,COUNTDOWN=8,EATEN_PAUSE=9,DYING=10,Pacman={FPS:30};Pacman.Ghost=function(e,n,t){var r=null,i=null,l=null,o=null,a=null;function u(e,n){var t=v()?1:null===l&&null!==o?4:2,r=e===LEFT&&-t||e===RIGHT&&t||0,i=e===DOWN&&t||e===UP&&-t||0;return{x:c(n.x,r),y:c(n.y,i)}}function c(e,n){var t=e%10,r=t+n;return 0!==t&&r>10?e+(10-t):t>0&&r<0?e-t:e+n}function v(){return null!==l}function f(){return(i===LEFT||i===RIGHT?[UP,DOWN]:[LEFT,RIGHT])[Math.floor(2*Math.random())]}function d(e){return e%10==0}function P(e){return Math.round(e/10)}function s(e,n){var t=e%10;return 0===t?e:n===RIGHT||n===DOWN?e+(10-t):e-t}function m(n){return(e.getTick()-n)/Pacman.FPS}return{eat:function(){l=null,o=e.getTick()},isVunerable:v,isDangerous:function(){return null===o},makeEatable:function(){var n;i=(n=i)===LEFT&&RIGHT||n===RIGHT&&LEFT||n===UP&&DOWN||UP,l=e.getTick()},reset:function(){o=null,l=null,r={x:90,y:80},i=f(),a=f()},move:function e(t){var l,o=r,c=d((l=r).y)&&d(l.x),v=null;if(a!==i&&(v=u(a,r),c&&n.isFloorSpace({y:P(s(v.y,a)),x:P(s(v.x,a))})?i=a:v=null),null===v&&(v=u(i,r)),c&&n.isWallSpace({y:P(s(v.y,i)),x:P(s(v.x,i))}))return a=f(),e(t);var m=function(e){return 100===e.y&&e.x>=190&&i===RIGHT?{y:100,x:-10}:100===e.y&&e.x<=-10&&i===LEFT&&(r={y:100,x:190})}(r=v);return m&&(r=m),a=f(),{new:r,old:o}},draw:function(a){var u=n.blockSize,c=r.y/10*u,v=r.x/10*u;l&&m(l)>8&&(l=null),o&&m(o)>3&&(o=null);var f=v+u,d=c+u-3,P=u/10,s=e.getTick()%10>5?3:-3,S=e.getTick()%10>5?-3:3;a.fillStyle=l?m(l)>5&&e.getTick()%20>10?"#FFFFFF":"#0000BB":o?"#222":t,a.beginPath(),a.moveTo(v,d),a.quadraticCurveTo(v,c,v+u/2,c),a.quadraticCurveTo(v+u,c,v+u,d),a.quadraticCurveTo(f-1*P,d+s,f-2*P,d),a.quadraticCurveTo(f-3*P,d+S,f-4*P,d),a.quadraticCurveTo(f-5*P,d+s,f-6*P,d),a.quadraticCurveTo(f-7*P,d+S,f-8*P,d),a.quadraticCurveTo(f-9*P,d+s,f-10*P,d),a.closePath(),a.fill(),a.beginPath(),a.fillStyle="#FFF",a.arc(v+6,c+6,u/6,0,300,!1),a.arc(v+u-6,c+6,u/6,0,300,!1),a.closePath(),a.fill();var T=u/12,E={};E[RIGHT]=[T,0],E[LEFT]=[-T,0],E[UP]=[0,-T],E[DOWN]=[0,T],a.beginPath(),a.fillStyle="#000",a.arc(v+6+E[i][0],c+6+E[i][1],u/15,0,300,!1),a.arc(v+u-6+E[i][0],c+6+E[i][1],u/15,0,300,!1),a.closePath(),a.fill()}}},Pacman.User=function(e,n){var t=null,r=null,i=null,l=null,o=null,a=5,u={};function c(e){(a+=e)>=1e4&&a-e<1e4&&(o+=1)}function v(){a=0,o=3,f()}function f(){d(),i=0}function d(){t={x:90,y:120},r=LEFT,l=LEFT}function P(e,n){return{x:n.x+((e===LEFT?-2:e===RIGHT&&2)||0),y:n.y+((e===DOWN?2:e===UP&&-2)||0)}}function s(e){return e%10==0}function m(e){return Math.round(e/10)}function S(e,n){var t=e%10;return 0===t?e:n===RIGHT||n===DOWN?e+(10-t):e-t}function T(e,n){return{y:m(S(e.y,n)),x:m(S(e.x,n))}}function E(e){return s(e.y)&&s(e.x)}function h(e){var n=e%10;return n>3||n<7}return u[KEY.ARROW_LEFT]=LEFT,u[KEY.ARROW_UP]=UP,u[KEY.ARROW_RIGHT]=RIGHT,u[KEY.ARROW_DOWN]=DOWN,v(),{draw:function(e){var i,l,o=n.blockSize,a=(l=t,(i=r)==RIGHT&&l.x%10<5?{start:.25,end:1.75,direction:!1}:i===DOWN&&l.y%10<5?{start:.75,end:2.25,direction:!1}:i===UP&&l.y%10<5?{start:1.25,end:1.75,direction:!0}:i===LEFT&&l.x%10<5?{start:.75,end:1.25,direction:!0}:{start:0,end:2,direction:!1});e.fillStyle="#FFFF00",e.beginPath(),e.moveTo(t.x/10*o+o/2,t.y/10*o+o/2),e.arc(t.x/10*o+o/2,t.y/10*o+o/2,o/2,Math.PI*a.start,Math.PI*a.end,a.direction),e.fill()},drawDead:function(e,r){var i=n.blockSize,l=i/2;r>=1||(e.fillStyle="#FFFF00",e.beginPath(),e.moveTo(t.x/10*i+l,t.y/10*i+l),e.arc(t.x/10*i+l,t.y/10*i+l,l,0,2*Math.PI*r,!0),e.fill())},loseLife:function(){o-=1},getLives:function(){return o},score:a,addScore:c,theScore:function(){return a},keyDown:function(e){return void 0===u[e.keyCode]||(l=u[e.keyCode],e.preventDefault(),e.stopPropagation(),!1)},move:function(o){var a,u,v=null,f=t;return l!==r&&(v=P(l,t),function(e,n){return!((e!==LEFT&&e!==RIGHT||n!==LEFT&&n!==RIGHT)&&(e!==UP&&e!==DOWN||n!==UP&&n!==DOWN))}(l,r)||E(t)&&n.isFloorSpace(T(v,l))?r=l:v=null),null===v&&(v=P(r,t)),E(t)&&n.isWallSpace(T(v,r))&&(r=NONE),r===NONE?{new:t,old:t}:(100===v.y&&v.x>=190&&r===RIGHT&&(v={y:100,x:-10}),100===v.y&&v.x<=-12&&r===LEFT&&(v={y:100,x:190}),a=T(t=v,r),u=n.block(a),((h(t.y)||h(t.x))&&u===Pacman.BISCUIT||u===Pacman.PILL)&&(n.setBlock(a,Pacman.EMPTY),c(u===Pacman.BISCUIT?10:50),182===(i+=1)&&e.completedLevel(),u===Pacman.PILL&&e.eatenPill()),{new:t,old:f})},newLevel:f,reset:function(){v(),d()},resetPosition:d}},Pacman.Map=function(e){var n=null,t=null,r=e,l=0,o=null;function a(e,r){return e>=0&&e<n&&r>=0&&r<t}function u(){o=Pacman.MAP.clone(),n=o.length,t=o[0].length}function c(e,n,t){var i=o[e][n];i!==Pacman.PILL&&(t.beginPath(),i!==Pacman.EMPTY&&i!==Pacman.BLOCK&&i!==Pacman.BISCUIT||(t.fillStyle="#000",t.fillRect(n*r,e*r,r,r),i===Pacman.BISCUIT&&(t.fillStyle="#FFF",t.fillRect(n*r+r/2.5,e*r+r/2.5,r/6,r/6))),t.closePath())}return u(),{draw:function(e){var i,l,o=r;for(e.fillStyle="#000",e.fillRect(0,0,t*o,n*o),function(e){var n,t,i,l;for(e.strokeStyle="#0000FF",e.lineWidth=5,e.lineCap="round",n=0;n<Pacman.WALLS.length;n+=1){for(l=Pacman.WALLS[n],e.beginPath(),t=0;t<l.length;t+=1)(i=l[t]).move?e.moveTo(i.move[0]*r,i.move[1]*r):i.line?e.lineTo(i.line[0]*r,i.line[1]*r):i.curve&&e.quadraticCurveTo(i.curve[0]*r,i.curve[1]*r,i.curve[2]*r,i.curve[3]*r);e.stroke()}}(e),i=0;i<n;i+=1)for(l=0;l<t;l+=1)c(i,l,e)},drawBlock:c,drawPills:function(e){for(++l>30&&(l=0),i=0;i<n;i+=1)for(j=0;j<t;j+=1)o[i][j]===Pacman.PILL&&(e.beginPath(),e.fillStyle="#000",e.fillRect(j*r,i*r,r,r),e.fillStyle="#FFF",e.arc(j*r+r/2,i*r+r/2,Math.abs(5-l/3),0,2*Math.PI,!1),e.fill(),e.closePath())},block:function(e){return o[e.y][e.x]},setBlock:function(e,n){o[e.y][e.x]=n},reset:u,isWallSpace:function(e){return a(e.y,e.x)&&o[e.y][e.x]===Pacman.WALL},isFloorSpace:function(e){if(!a(e.y,e.x))return!1;var n=o[e.y][e.x];return n===Pacman.EMPTY||n===Pacman.BISCUIT||n===Pacman.PILL},height:n,width:t,blockSize:r}},Pacman.Audio=function(e){var n=[],t=[],r=[],i=[];return{disableSound:function(){for(var e=0;e<i.length;e++)n[i[e]].pause(),n[i[e]].currentTime=0;i=[]},load:function(e,t,i){var l=n[e]=document.createElement("audio");r[e]=function(t){!function(e,t,i){e.loaded===e.total&&"function"==typeof i&&(i(),n[t].removeEventListener("canplaythrough",r[t],!0))}(t,e,i)},l.addEventListener("canplaythrough",r[e],!0),l.setAttribute("preload","true"),l.setAttribute("autobuffer","true"),l.setAttribute("src",t),l.pause()},play:function(r){e.soundDisabled()||(t[r]=function(){!function(e){var r,l=[],o=!1;for(n[e].removeEventListener("ended",t[e],!0),r=0;r<i.length;r++)!o&&i[r]?o=!0:l.push(i[r]);i=l}(r)},i.push(r),n[r].addEventListener("ended",t[r],!0),n[r].play())},pause:function(){for(var e=0;e<i.length;e++)n[i[e]].pause()},resume:function(){for(var e=0;e<i.length;e++)n[i[e]].play()}}};var PACMAN=function(){var e,n,t=WAITING,r=null,l=[],o=["#00FFDE","#FF0000","#FFB8DE","#FFB847"],a=0,u=0,c=0,v=!0,f=null,d=0,P=null,s=null,m=null,S=null;function T(){return c}function E(e){P.fillStyle="#FFFF00",P.font="18px Calibri";var n=P.measureText(e).width,t=(s.width*s.blockSize-n)/2;P.fillText(e,t,10*s.height+8)}function h(){return"true"===localStorage.soundDisabled}function F(){m.resetPosition();for(var e=0;e<l.length;e+=1)l[e].reset();r.play("start"),f=c,L(COUNTDOWN)}function y(e){if(e.keyCode===KEY.N)L(WAITING),u=1,m.reset(),s.reset(),s.draw(P),F();else if(e.keyCode===KEY.S)r.disableSound(),localStorage.soundDisabled=!h();else if(e.keyCode===KEY.P&&t===PAUSE)r.resume(),s.draw(P),L(S);else if(e.keyCode===KEY.P)S=t,L(PAUSE),r.pause(),s.draw(P),E("Ara Verildi");else if(t!==PAUSE)return m.keyDown(e);return!0}function L(e){t=e,v=!0}function I(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))<10}function A(e){s.drawBlock(Math.floor(e.y/10),Math.floor(e.x/10),P),s.drawBlock(Math.ceil(e.y/10),Math.ceil(e.x/10),P)}function N(){var o;if(t!==PAUSE&&++c,s.drawPills(P),t===PLAYING)!function(){var t,i,o,u,v,d;for(e=[],i=0,o=l.length;i<o;i+=1)e.push(l[i].move(P));for(t=m.move(P),i=0,o=l.length;i<o;i+=1)A(e[i].old);for(A(t.old),i=0,o=l.length;i<o;i+=1)l[i].draw(P);for(m.draw(P),n=t.new,i=0,o=l.length;i<o;i+=1)I(n,e[i].new)&&(l[i].isVunerable()?(r.play("eatghost"),l[i].eat(),v=u=50*(a+=1),d=e[i],P.fillStyle="#FFFFFF",P.font="12px BDCartoonShoutRegular",P.fillText(v,d.new.x/10*s.blockSize,(d.new.y+5)/10*s.blockSize),m.addScore(u),L(EATEN_PAUSE),f=c):l[i].isDangerous()&&(r.play("die"),L(DYING),f=c))}();else if(t===WAITING&&v)v=!1,s.draw(P),E("Oyuna başlamak için N tuşuna basın.");else if(t===EATEN_PAUSE&&c-f>Pacman.FPS/3)s.draw(P),L(PLAYING);else if(t===DYING)if(c-f>2*Pacman.FPS)L(WAITING),m.loseLife(),m.getLives()>0&&F();else{for(A(n),i=0,len=l.length;i<len;i+=1)A(e[i].old),e.push(l[i].draw(P));m.drawDead(P,(c-f)/(2*Pacman.FPS))}else t===COUNTDOWN&&(0===(o=5+Math.floor((f-c)/Pacman.FPS))?(s.draw(P),L(PLAYING)):o!==d&&(d=o,s.draw(P),E("Hazır ol: "+o)));!function(){var e=s.height*s.blockSize,n=e+17;P.fillStyle="#000000",P.fillRect(0,e,s.width*s.blockSize,30),P.fillStyle="#FFFF00";for(var t=0,r=m.getLives();t<r;t++)P.fillStyle="#FFFF00",P.beginPath(),P.moveTo(150+25*t+s.blockSize/2,e+1+s.blockSize/2),P.arc(150+25*t+s.blockSize/2,e+1+s.blockSize/2,s.blockSize/2,.25*Math.PI,1.75*Math.PI,!1),P.fill();P.fillStyle=h()?"#FF0000":"#00FF00",P.font="bold 16px sans-serif",P.fillText("s",10,n),P.fillStyle="#FFFF00",P.font="14px Calibri",P.fillText("Skor: "+m.theScore(),30,n),P.fillText("Seviye: "+u,260,n)}()}function g(){for(r.play("eatpill"),f=c,a=0,i=0;i<l.length;i+=1)l[i].makeEatable(P)}function p(){L(WAITING),u+=1,s.reset(),m.newLevel(),F()}function R(e){t!==WAITING&&t!==PAUSE&&(e.preventDefault(),e.stopPropagation())}return{init:function(e,n){var t,i,a,u=e.offsetWidth/19,c=document.createElement("canvas");for(c.setAttribute("width",19*u+"px"),c.setAttribute("height",22*u+30+"px"),e.appendChild(c),P=c.getContext("2d"),r=new Pacman.Audio({soundDisabled:h}),s=new Pacman.Map(u),m=new Pacman.User({completedLevel:p,eatenPill:g},s),t=0,i=o.length;t<i;t+=1)a=new Pacman.Ghost({getTick:T},s,o[t]),l.push(a);s.draw(P),E("Yükleniyor...");var v=Modernizr.audio.ogg?"ogg":"mp3";!function e(n,t){if(0===n.length)t();else{var i=n.pop();r.load(i[0],i[1],function(){e(n,t)})}}([["start",n+"audio/opening_song."+v],["die",n+"audio/die."+v],["eatghost",n+"audio/eatghost."+v],["eatpill",n+"audio/eatpill."+v],["eating",n+"audio/eating.short."+v],["eating2",n+"audio/eating.short."+v]],function(){E("Press N to Start"),document.addEventListener("keydown",y,!0),document.addEventListener("keypress",R,!0),window.setInterval(N,1e3/Pacman.FPS)})}}}(),KEY={BACKSPACE:8,TAB:9,NUM_PAD_CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,SEMICOLON:59,WINDOWS_LEFT:91,WINDOWS_RIGHT:92,SELECT:93,NUM_PAD_ASTERISK:106,NUM_PAD_PLUS_SIGN:107,"NUM_PAD_HYPHEN-MINUS":109,NUM_PAD_FULL_STOP:110,NUM_PAD_SOLIDUS:111,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUALS_SIGN:187,COMMA:188,"HYPHEN-MINUS":189,FULL_STOP:190,SOLIDUS:191,GRAVE_ACCENT:192,LEFT_SQUARE_BRACKET:219,REVERSE_SOLIDUS:220,RIGHT_SQUARE_BRACKET:221,APOSTROPHE:222};!function(){for(var e=48;e<=57;e++)KEY[""+(e-48)]=e;for(e=65;e<=90;e++)KEY[""+String.fromCharCode(e)]=e;for(e=96;e<=105;e++)KEY["NUM_PAD_"+(e-96)]=e;for(e=112;e<=123;e++)KEY["F"+(e-112+1)]=e}(),Pacman.WALL=0,Pacman.BISCUIT=1,Pacman.EMPTY=2,Pacman.BLOCK=3,Pacman.PILL=4,Pacman.MAP=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0],[0,4,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,4,0],[0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,1,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,0],[2,2,2,0,1,0,1,1,1,1,1,1,1,0,1,0,2,2,2],[0,0,0,0,1,0,1,0,0,3,0,0,1,0,1,0,0,0,0],[2,2,2,2,1,1,1,0,3,3,3,0,1,1,1,2,2,2,2],[0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0],[2,2,2,0,1,0,1,1,1,2,1,1,1,0,1,0,2,2,2],[0,0,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0],[0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0],[0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,1,0],[0,4,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,4,0],[0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,0,0],[0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0],[0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Pacman.WALLS=[[{move:[0,9.5]},{line:[3,9.5]},{curve:[3.5,9.5,3.5,9]},{line:[3.5,8]},{curve:[3.5,7.5,3,7.5]},{line:[1,7.5]},{curve:[.5,7.5,.5,7]},{line:[.5,1]},{curve:[.5,.5,1,.5]},{line:[9,.5]},{curve:[9.5,.5,9.5,1]},{line:[9.5,3.5]}],[{move:[9.5,1]},{curve:[9.5,.5,10,.5]},{line:[18,.5]},{curve:[18.5,.5,18.5,1]},{line:[18.5,7]},{curve:[18.5,7.5,18,7.5]},{line:[16,7.5]},{curve:[15.5,7.5,15.5,8]},{line:[15.5,9]},{curve:[15.5,9.5,16,9.5]},{line:[19,9.5]}],[{move:[2.5,5.5]},{line:[3.5,5.5]}],[{move:[3,2.5]},{curve:[3.5,2.5,3.5,3]},{curve:[3.5,3.5,3,3.5]},{curve:[2.5,3.5,2.5,3]},{curve:[2.5,2.5,3,2.5]}],[{move:[15.5,5.5]},{line:[16.5,5.5]}],[{move:[16,2.5]},{curve:[16.5,2.5,16.5,3]},{curve:[16.5,3.5,16,3.5]},{curve:[15.5,3.5,15.5,3]},{curve:[15.5,2.5,16,2.5]}],[{move:[6,2.5]},{line:[7,2.5]},{curve:[7.5,2.5,7.5,3]},{curve:[7.5,3.5,7,3.5]},{line:[6,3.5]},{curve:[5.5,3.5,5.5,3]},{curve:[5.5,2.5,6,2.5]}],[{move:[12,2.5]},{line:[13,2.5]},{curve:[13.5,2.5,13.5,3]},{curve:[13.5,3.5,13,3.5]},{line:[12,3.5]},{curve:[11.5,3.5,11.5,3]},{curve:[11.5,2.5,12,2.5]}],[{move:[7.5,5.5]},{line:[9,5.5]},{curve:[9.5,5.5,9.5,6]},{line:[9.5,7.5]}],[{move:[9.5,6]},{curve:[9.5,5.5,10.5,5.5]},{line:[11.5,5.5]}],[{move:[5.5,5.5]},{line:[5.5,7]},{curve:[5.5,7.5,6,7.5]},{line:[7.5,7.5]}],[{move:[6,7.5]},{curve:[5.5,7.5,5.5,8]},{line:[5.5,9.5]}],[{move:[13.5,5.5]},{line:[13.5,7]},{curve:[13.5,7.5,13,7.5]},{line:[11.5,7.5]}],[{move:[13,7.5]},{curve:[13.5,7.5,13.5,8]},{line:[13.5,9.5]}],[{move:[0,11.5]},{line:[3,11.5]},{curve:[3.5,11.5,3.5,12]},{line:[3.5,13]},{curve:[3.5,13.5,3,13.5]},{line:[1,13.5]},{curve:[.5,13.5,.5,14]},{line:[.5,17]},{curve:[.5,17.5,1,17.5]},{line:[1.5,17.5]}],[{move:[1,17.5]},{curve:[.5,17.5,.5,18]},{line:[.5,21]},{curve:[.5,21.5,1,21.5]},{line:[18,21.5]},{curve:[18.5,21.5,18.5,21]},{line:[18.5,18]},{curve:[18.5,17.5,18,17.5]},{line:[17.5,17.5]}],[{move:[18,17.5]},{curve:[18.5,17.5,18.5,17]},{line:[18.5,14]},{curve:[18.5,13.5,18,13.5]},{line:[16,13.5]},{curve:[15.5,13.5,15.5,13]},{line:[15.5,12]},{curve:[15.5,11.5,16,11.5]},{line:[19,11.5]}],[{move:[5.5,11.5]},{line:[5.5,13.5]}],[{move:[13.5,11.5]},{line:[13.5,13.5]}],[{move:[2.5,15.5]},{line:[3,15.5]},{curve:[3.5,15.5,3.5,16]},{line:[3.5,17.5]}],[{move:[16.5,15.5]},{line:[16,15.5]},{curve:[15.5,15.5,15.5,16]},{line:[15.5,17.5]}],[{move:[5.5,15.5]},{line:[7.5,15.5]}],[{move:[11.5,15.5]},{line:[13.5,15.5]}],[{move:[2.5,19.5]},{line:[5,19.5]},{curve:[5.5,19.5,5.5,19]},{line:[5.5,17.5]}],[{move:[5.5,19]},{curve:[5.5,19.5,6,19.5]},{line:[7.5,19.5]}],[{move:[11.5,19.5]},{line:[13,19.5]},{curve:[13.5,19.5,13.5,19]},{line:[13.5,17.5]}],[{move:[13.5,19]},{curve:[13.5,19.5,14,19.5]},{line:[16.5,19.5]}],[{move:[7.5,13.5]},{line:[9,13.5]},{curve:[9.5,13.5,9.5,14]},{line:[9.5,15.5]}],[{move:[9.5,14]},{curve:[9.5,13.5,10,13.5]},{line:[11.5,13.5]}],[{move:[7.5,17.5]},{line:[9,17.5]},{curve:[9.5,17.5,9.5,18]},{line:[9.5,19.5]}],[{move:[9.5,18]},{curve:[9.5,17.5,10,17.5]},{line:[11.5,17.5]}],[{move:[8.5,9.5]},{line:[8,9.5]},{curve:[7.5,9.5,7.5,10]},{line:[7.5,11]},{curve:[7.5,11.5,8,11.5]},{line:[11,11.5]},{curve:[11.5,11.5,11.5,11]},{line:[11.5,10]},{curve:[11.5,9.5,11,9.5]},{line:[10.5,9.5]}]],Object.prototype.clone=function(){var e,n=this instanceof Array?[]:{};for(e in this)"clone"!==e&&(this[e]&&"object"==typeof this[e]?n[e]=this[e].clone():n[e]=this[e]);return n},$(function(){var e=document.getElementById("pacman");Modernizr.canvas&&Modernizr.localstorage&&Modernizr.audio&&(Modernizr.audio.ogg||Modernizr.audio.mp3)?window.setTimeout(function(){PACMAN.init(e,"https://raw.githubusercontent.com/daleharvey/pacman/master/")},0):e.innerHTML="Sorry, needs a decent browser<br /><small>(firefox 3.6+, Chrome 4+, Opera 10+ and Safari 4+)</small>"});
